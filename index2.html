<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess board</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <span style="color:green; font-size:30px;">
        Knight Attack
    </span>
    <br><br>
    <div class="container">
        <table width="250px" cellspacing="0">
        </table>
    </div>
    <script type="text/javascript">
        // var tr = document.getElementsByTagName('tr')
        var chessTable = document.getElementsByTagName('table')[0];
        for (var i = 0; i < 8; i++) {
            // Create a row
            var tr = document.createElement('tr');
            for (var j = 0; j < 8; j++) {
                // Create a cell
                moveX = i;
                moveY = j
                var td = document.createElement('td');
                if ((i + j) % 2 == 0) { //if even
                    const td = `<td class="cell whitecell ${i} ${j}" onclick="possibleMoves(${i} ${j})"></td>`;
                    tr.insertAdjacentHTML("beforeend", td);
                }
                else {
                    const td = `<td class="cell blackcell ${i} ${j}" onclick="possibleMoves(${i} ${j})"></td>`;
                    tr.insertAdjacentHTML("beforeend", td);
                }

                var possibleMoves = (n, m) => {
                    // let squares = [[0, 1, 0, 1, 0, 1, 0, 1],
                    // [1, 0, 1, 0, 1, 0, 1, 0],
                    // [0, 1, 0, 1, 0, 1, 1, 0],
                    // [1, 0, 1, 0, 1, 0, 1, 0],
                    // [0, 1, 0, 1, 0, 1, 0, 1]
                    // [1, 0, 1, 0, 1, 0, 1, 0],
                    // [0, 1, 0, 1, 0, 1, 0, 1],
                    // [1, 0, 1, 0, 1, 0, 1, 0]]

                    // All possible moves of a knight
                    let X = [2, 1, -1, -2, -2, -1, 1, 2];
                    let Y = [1, 2, 2, 1, -1, -2, -2, -1];

                    for (let k = 0; k < 8; k++) {
                        let arraysss = []
                        let axisX = m + X[k];
                        let axisY = n + Y[k];


                        if (axisX >= 0 && axisY >= 0 && axisX < 8 && axisY < 8) {
                            arraysss.push(axisX, axisY);

                            console.log(arraysss)
                            // td.classList.remove("mystyle");
                            // td.classList.add("mystyle"); `cell greencell ${axisX} ${axisY}`);
                            // td.setAttribute('class', `cell greencell ${axisX} ${axisY}`);
                            var green = document.getElementsByClassName(`${axisX} ${axisY}`)
                            green.classList.remove("whitecell");
                            // tr.appendChild(td);
                        }

                    }
                }

                // td.setAttribute('onclick', `possibleMoves(${i},${j})`);

            }
            // Append the row
            chessTable.appendChild(tr);
        }
    </script>
</body>

</html>