<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess board</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <span style="color:rgb(255, 255, 255); font-family:sans-serif; font-size:30px;">
        Knight Attack
    </span>
    <br><br>
    <div class="container">
        <table width="350px" cellspacing="0">
            <tr>
                <th>0</th>
                <th>1</th>
                <th>2</th>
                <th>3</th>
                <th>4</th>
                <th>5</th>
                <th>6</th>
                <th>7</th>
            </tr>
        </table>
    </div>
    <span id="txt" style="color:rgb(255, 255, 255); font-family:sans-serif; font-size:15px;">Console to see Raw Data in
        MxN</span>
    <script type="text/javascript">
        var chessTable = document.getElementsByTagName('table')[0];
        let axisX = 0, axisY = 0;
        for (var i = 0; i < 8; i++) {
            var tr = document.createElement('tr');
            for (var j = 0; j < 8; j++) {
                // Create a cell
                var td = document.createElement('td');
                if ((i + j) % 2 == 0) { //if even
                    const td = `<td class="cell whitecell" id = "${i} ${j}" onclick = "possibleMoves(${i},${j})"></td> `;
                    tr.innerHTML += td;
                }
                else {
                    const td = `<td class="cell blackcell" id = "${i} ${j}" onclick = "possibleMoves(${i},${j})" ></ td>`;
                    tr.innerHTML += td;
                }

                var possibleMoves = (n, m) => {
                    document.getElementById(`${n} ${m}`).innerHTML += `<img src="https://img.icons8.com/external-nawicon-flat-nawicon/64/null/external-chess-business-nawicon-flat-nawicon.png" width="25px" class="knight"/>`

                    // let squares = [[0, 1, 0, 1, 0, 1, 0, 1],
                    // [1, 0, 1, 0, 1, 0, 1, 0],
                    // [0, 1, 0, 1, 0, 1, 1, 0],
                    // [1, 0, 1, 0, 1, 0, 1, 0],
                    // [0, 1, 0, 1, 0, 1, 0, 1]
                    // [1, 0, 1, 0, 1, 0, 1, 0],
                    // [0, 1, 0, 1, 0, 1, 0, 1],
                    // [1, 0, 1, 0, 1, 0, 1, 0]]

                    // All possible moves of a knight
                    let X = [2, 1, -1, -2, -2, -1, 1, 2];
                    let Y = [1, 2, 2, 1, -1, -2, -2, -1];
                    let arraysss = [];
                    for (let k = 0; k < 8; k++) {
                        axisX = n + X[k];
                        axisY = m + Y[k];
                        if (axisX >= 0 && axisY >= 0 && axisX < 8 && axisY < 8) {
                            arraysss.push([axisX, axisY]);
                        }

                    }
                    const span = document.getElementById('txt');
                    for (z of arraysss) {
                        z.forEach((element, index) => {
                            console.log(z[0], z[1])
                            var newTd = document.getElementById(`${z[0]} ${z[1]}`);
                            newTd.style.background = "green"
                            setTimeout(function () {
                                newTd.style.removeProperty("background-color");
                                document.getElementsByTagName('img')[0].style.display = 'none'
                            }, 2000);
                        });
                    }
                }
            }
            var ff = document.getElementsByTagName('table')[0];
            ff.insertAdjacentElement('beforeend', tr)
        }
    </script>
</body>
<footer style="position:fixed;bottom: 0;left: 0;width: 100%;">
    <div style="background-color: grey; font-family:sans-serif;">
        Made By
        <a style="color:rgb(255, 255, 255); font-family:sans-serif;" href="https://github.com/S4nfs">SV</a>
    </div>
</footer>

</html>